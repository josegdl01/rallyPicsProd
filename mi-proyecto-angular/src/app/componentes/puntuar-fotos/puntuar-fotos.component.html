<div class="container mt-4" *ngIf="publicaciones.length != 0">
  <h2 class="mb-4">Puntuar fotos</h2>
  <div class="row">
    <div *ngFor="let publicacion of publicaciones" class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm">
        <img *ngIf="publicacion.foto" [src]="'data:image/jpeg;base64,' + publicacion.foto" alt="Foto" class="card-img-top" />
        <div *ngIf="!publicacion.foto" class="d-flex align-items-center justify-content-center bg-light" style="height:200px;">
          <span class="text-muted">Imagen no disponible</span>
        </div>
        <div class="card-body">
          <p class="card-text"><strong>Descripci칩n:</strong> {{ publicacion.descripcion || 'Sin descripci칩n' }}</p>
          <div class="mb-3">
            <label class="form-label">Puntuaci칩n:</label>
            <input type="number" #nota min="1" max="10" class="form-control d-inline-block w-auto ms-2" [disabled]="sorteoCerrado" />
            <button class="btn btn-primary btn-sm ms-2" (click)="puntuar(publicacion, nota.value)" [disabled]="sorteoCerrado">
              Puntuar
            </button>
          </div>
          <div *ngIf="sorteoCerrado" class="alert alert-warning mt-3 text-center">
            El sorteo est치 cerrado. Ya no se pueden puntuar fotos.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="publicaciones.length == 0" class="alert alert-info mt-4">
  No hay fotos para puntuar
</div>
<div *ngIf="mensajeError" class="alert alert-warning text-center">
  {{ mensajeError }}
</div>
<div *ngIf="!mensajeError">
</div>
